# Лабораторная работа 6: Трехмерные объекты в OpenGL

## Описание

Программа демонстрирует работу с трехмерной графикой в OpenGL через библиотеку Pygame. Реализованы функции для отрисовки различных 3D-объектов: куба, спирали и додекаэдра. Программа поддерживает интерактивное вращение объектов с помощью мыши.

## Основные функции

### `draw_axis()`
**Назначение:** Рисует координатные оси для ориентации в пространстве.

**Цвета осей:**
- **Красная (X)** - от (0,0,0) до (1,0,0)
- **Зеленая (Y)** - от (0,0,0) до (0,1,0)
- **Синяя (Z)** - от (0,0,0) до (0,0,1)

**Использование:** Помогает визуально определить ориентацию объектов в пространстве.

### `draw_cube(lx, ly, lz)`
**Назначение:** Рисует куб с заданными размерами.

**Параметры:**
- `lx` (float) - длина по оси X
- `ly` (float) - длина по оси Y
- `lz` (float) - длина по оси Z

**Реализация:**
- Определяет 8 вершин куба
- Соединяет вершины 12 ребрами
- Использует `GL_LINES` для отрисовки каркаса
- Цвет: белый (1, 1, 1)

**Геометрия:**
- Вершины вычисляются относительно центра куба
- Каждая грань представлена 4 ребрами

### `draw_spiral(radius, height, turns, segments)`
**Назначение:** Рисует трехмерную спираль.

**Параметры:**
- `radius` (float) - радиус спирали
- `height` (float) - высота спирали
- `turns` (int) - количество витков
- `segments` (int) - количество сегментов для аппроксимации

**Алгоритм:**
1. Для каждого сегмента вычисляет:
   - Угол: `angle = i / segments * turns * 2 * π`
   - X координата: `x = radius * cos(angle)`
   - Y координата: `y = radius * sin(angle)`
   - Z координата: `z = height * i / segments`
2. Соединяет точки линией (`GL_LINE_STRIP`)

**Цвет:** Пурпурный (1, 0, 1)

### `draw_dodecahedron(size)`
**Назначение:** Рисует додекаэдр (правильный многогранник с 12 гранями).

**Параметры:**
- `size` (float) - масштаб додекаэдра

**Математические основы:**
- Использует золотое сечение: `φ = (1 + √5) / 2`
- Вершины вычисляются на основе математической модели додекаэдра
- 20 вершин, 12 пятиугольных граней

**Реализация:**
- Определяет 20 вершин додекаэдра
- Соединяет вершины в 12 пятиугольных граней
- Использует `GL_POLYGON` для заливки граней
- Цвет: серый (0.5, 0.5, 0.5)

**Геометрия:**
- Вершины масштабируются параметром `size`
- Каждая грань - правильный пятиугольник

## Обработка событий

### Управление мышью
**Функционал:**
- **Зажатие левой кнопки мыши** - активирует режим вращения
- **Перемещение мыши** - вращает сцену:
  - Вертикальное движение - вращение вокруг оси X
  - Горизонтальное движение - вращение вокруг оси Y
- **Скорость вращения:** `rotation_speed = 0.1`

**Реализация:**
```python
if mouse_down:
    delta_x = new_x - mouse_x
    delta_y = new_y - mouse_y
    rotation_x += delta_y * rotation_speed
    rotation_y += delta_x * rotation_speed
```

### Изменение размера окна
**Событие:** `VIDEORESIZE`
- Автоматически обновляет viewport
- Пересчитывает перспективную проекцию

## Структура программы

### Инициализация
- Создание окна Pygame 800x600
- Настройка OpenGL контекста
- Установка перспективной проекции (45°)
- Включение теста глубины (`GL_DEPTH_TEST`)

### Основной цикл
1. Обработка событий (закрытие, мышь, изменение размера)
2. Очистка буферов
3. Применение вращений
4. Отрисовка объектов:
   - Оси координат
   - Куб в центре
   - Спираль справа от куба
   - Додекаэдр над кубом
5. Обновление экрана

## Как запустить

1. Установите зависимости:
   ```bash
   pip install pygame PyOpenGL numpy
   ```
2. Запустите программу:
   ```bash
   python lab6.py
   ```

## Зависимости

- `pygame` - библиотека для создания окон и обработки событий
- `OpenGL.GL` - основные функции OpenGL
- `OpenGL.GLU` - утилиты OpenGL (gluPerspective)
- `math` - для математических функций (cos, sin, sqrt)

## Управление

- **Левая кнопка мыши + движение** - вращение сцены
- **Закрытие окна** - выход из программы
- **Изменение размера окна** - автоматическая адаптация

## Особенности реализации

### Трехмерная графика
- Используется перспективная проекция для реалистичного отображения
- Тест глубины включен для правильного наложения объектов
- Матрицы трансформации для позиционирования объектов

### Интерактивность
- Плавное вращение с помощью мыши
- Сохранение состояния вращения между кадрами
- Адаптация к изменению размера окна

### Геометрические объекты
- **Куб:** Простой каркас из линий
- **Спираль:** Параметрическая кривая в 3D
- **Додекаэдр:** Сложный многогранник с математически точными координатами

## Расположение объектов

- **Оси координат:** В начале координат
- **Куб:** В центре сцены (1x1x1)
- **Спираль:** Смещена на (2, 0, 0) от центра
- **Додекаэдр:** Смещен на (0, 2, 0) от центра, размер 0.5

## Математические формулы

### Спираль
- Параметрические уравнения:
  - `x(t) = radius * cos(2π * turns * t)`
  - `y(t) = radius * sin(2π * turns * t)`
  - `z(t) = height * t`
  - где `t ∈ [0, 1]`

### Додекаэдр
- Золотое сечение: `φ = (1 + √5) / 2 ≈ 1.618`
- Вершины вычисляются на основе симметрий икосаэдрального типа

