# Лабораторная работа 5: Обработка изображений

## Описание

Программа представляет собой графический редактор для обработки изображений с возможностью загрузки, модификации и анализа пикселей. Реализован интерфейс для выбора области изображения и инверсии цветов с отображением данных о пикселях в таблице.

## Основные классы и методы

### Класс `ImageProcessorApp`
**Назначение:** Главный класс приложения, управляющий всем интерфейсом и обработкой изображений.

### Методы класса

#### `__init__(self, root)`
**Назначение:** Инициализация приложения и создание всех компонентов интерфейса.

**Создаваемые компоненты:**
- Метки для отображения оригинального и модифицированного изображений
- Таблица (`ttk.Treeview`) для отображения данных о пикселях
- Поля ввода для выбора диапазона обработки (X начало/конец, Y начало/конец)
- Кнопки управления

#### `load_image(self)`
**Назначение:** Загружает изображение из файла.

**Функционал:**
- Открывает диалог выбора файла (`filedialog.askopenfilename`)
- Поддерживает форматы: BMP, JPG, JPEG, PNG
- Уменьшает изображение до 300x300 пикселей для отображения в интерфейсе
- Отображает оригинальное изображение в левой части окна

**Используемые библиотеки:**
- `PIL.Image.open()` - открытие изображения
- `Image.thumbnail()` - уменьшение размера
- `ImageTk.PhotoImage()` - преобразование для Tkinter

#### `process_image(self)`
**Назначение:** Обрабатывает выбранную область изображения.

**Алгоритм обработки:**
1. Получает координаты области из полей ввода
2. Очищает таблицу данных
3. Для каждого пикселя в выбранной области:
   - Получает RGB значения: `r, g, b = pixels[x, y]`
   - Вычисляет яркость: `brightness = (r + g + b) / 3`
   - Инвертирует цвета: `(255 - r, 255 - g, 255 - b)`
   - Добавляет данные в таблицу: координаты, исходный цвет, яркость
4. Отображает модифицированное изображение в правой части окна

**Особенности:**
- Использует `pixels.load()` для прямого доступа к пикселям
- Сохраняет оригинальное изображение, работая с копией
- Обновляет таблицу в реальном времени

#### `clear_data(self)`
**Назначение:** Очищает таблицу с данными о пикселях.

**Использование:** Вызывается при нажатии кнопки "Очистить данные".

## Компоненты интерфейса

### Таблица данных (`ttk.Treeview`)
**Колонки:**
- **X** - координата X пикселя
- **Y** - координата Y пикселя
- **Цвет** - RGB значения в формате (R, G, B)
- **Яркость** - среднее значение RGB компонентов

### Поля ввода
- **X начало** - начальная координата X области обработки
- **X конец** - конечная координата X области обработки
- **Y начало** - начальная координата Y области обработки
- **Y конец** - конечная координата Y области обработки

### Кнопки
- **Загрузить изображение** - открывает диалог выбора файла
- **Обработать изображение** - применяет инверсию цветов к выбранной области
- **Очистить данные** - удаляет все записи из таблицы

## Алгоритм инверсии цветов

**Формула:** `new_color = 255 - old_color`

**Для каждого канала:**
- Красный: `new_r = 255 - r`
- Зеленый: `new_g = 255 - g`
- Синий: `new_b = 255 - b`

**Результат:** Создает негативное изображение выбранной области.

## Как запустить

1. Установите зависимости:
   ```bash
   pip install pillow tkinter
   ```
2. Запустите программу:
   ```bash
   python lab5.py
   ```

## Зависимости

- `tkinter` - стандартная библиотека Python для GUI
- `PIL` (Pillow) - библиотека для работы с изображениями
- `numpy` - для численных операций (опционально)

## Пример использования

1. Нажмите "Загрузить изображение" и выберите файл
2. Введите координаты области для обработки:
   - X начало: 0
   - X конец: 100
   - Y начало: 0
   - Y конец: 100
3. Нажмите "Обработать изображение"
4. Просмотрите результаты:
   - Модифицированное изображение справа
   - Данные о пикселях в таблице

## Особенности реализации

### Обработка изображений
- Прямой доступ к пикселям через `pixels.load()`
- Сохранение оригинального изображения
- Работа с уменьшенной копией для отображения

### Интерфейс
- Двухпанельный вид: оригинал слева, результат справа
- Таблица с прокруткой для больших объемов данных
- Интуитивные поля ввода для координат

### Производительность
- Обработка происходит синхронно (может зависнуть на больших изображениях)
- Рекомендуется обрабатывать небольшие области для быстрого отклика

## Возможные улучшения

- Асинхронная обработка для больших изображений
- Дополнительные фильтры (размытие, резкость, яркость)
- Сохранение обработанного изображения
- Поддержка других форматов файлов

